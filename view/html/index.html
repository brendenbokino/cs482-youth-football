<!DOCTYPE html>
<html lang="en-us">

    <head>
        <meta charset="utf-8">
        <meta name="keywords" content="football, youth league, sports">
        <title>Loyal Order of Youth League Athletes</title>
        <link href="./css/carousel.css" rel="stylesheet" type="text/css">
        <link href="./css/main.css" rel="stylesheet" type="text/css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <!-- Bootrap Icons for the Icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">        
        </head>

    <body>
      <div id="header"></div>
        <main>
            <div id="imageCarousel" class="carousel slide">
                <div class="carousel-indicators" id="indicators">
                  <!--Indicators are set up in script below-->
                </div>
                <div class="carousel-inner" id="inner">
                  <!--images are routed from db in script below-->
                </div>
                <!--Next and Previous buttons are static-->
                <div id="buttons">
                  <button id="prevButton" class="carousel-control-prev" type="button" data-bs-target="#imageCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                  </button>
                  <button id="nextButton" class="carousel-control-next" type="button" data-bs-target="#imageCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                  </button>
                </div>
              </div>

              <div class="container pt-2">
                <div class="row justify-content-center align-items-center g-2">
                  <div class="col" id="whoarewe">
                    <h2>Who are we?</h2>
                  </div>  
                </div>

                <div class="row justify-content-center align-items-center g-2">
                  <div class="col">
                    <p style="font-size: 1.25em;">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h3>
                  </div>
                </div>
              </div>
        </main>

       <div id="footer"></div>
            <!-- JQuery JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
        <!-- Bootstrap Bundle JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script> 
            $(function(){
                $("#header").load("header.html"); 
                $("#footer").load("footer.html"); 
            });
        </script>
        <script>
          async function getCarousel() {
            const response = await fetch('/photos/images');
            const files = await response.json();

            let i=0;
            const imageCarousel = document.getElementById("imageCarousel");
            const indicators = document.getElementById("indicators");
            const carouselInner = document.getElementById("inner");
            const buttons = document.getElementById("buttons");

            if (files.length > 0){
              for (let file of files){ 
                if (i==0){
                  indicators.innerHTML += `
                  <button type="button" data-bs-target="#imageCarousel" data-bs-slide-to="${i}" class="active" aria-current="true" aria-label="Slide ${i+1}"></button>`

                  carouselInner.innerHTML += `
                  <div class="carousel-item active c-item">
                    <img src="http://localhost:3000/image/${file.filename}" class="d-block w-100 c-img" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                      <h5>First slide label</h5>
                      <p>Some representative placeholder content for the first slide.</p>
                    </div>
                  </div>`
                } else{
                  indicators.innerHTML += `
                  <button type="button" data-bs-target="#imageCarousel" data-bs-slide-to="${i}" aria-label="Slide ${i+1}"></button>`

                  carouselInner.innerHTML += `
                  <div class="carousel-item c-item">
                    <img src="http://localhost:3000/image/${file.filename}" class="d-block w-100 c-img" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                      <h5> Generic slide label</h5>
                      <p>Some representative placeholder content for a slide.</p>
                    </div>
                  </div>`
                }
                i++;
              }
            }
            else{ //if there are no files
              buttons.style.display='none';
            }
          }
          getCarousel();
        </script> 
        </body>
</html>

